{% extends "layout.html" %}
{% block content %}

<div class="container" style="max-width: 800px; margin: 50px auto; background: white; padding: 30px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); direction: ltr; text-align: left;">
    <h2 style="text-align: center; color: #2c3e50;">ðŸ›’ Shopping Cart</h2>
    <hr>
    
    <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
        <thead>
            <tr style="background: #f8f9fa; border-bottom: 2px solid #eee;">
                <th style="padding: 15px; text-align: left;">Product</th>
                <th style="padding: 15px; text-align: center;">Price</th>
            </tr>
        </thead>
        <tbody>
            {% for item in items %}
            <tr style="border-bottom: 1px solid #eee;">
                <td style="padding: 15px;">{{ item.name }}</td>
                <td style="padding: 15px; text-align: center;">{{ item.price }} DH</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <div style="margin-top: 30px; padding: 15px; background: #fff3e0; border-radius: 8px; text-align: center;">
        <h3 style="margin: 0; color: #e67e22;">Grand Total: {{ total }} DH</h3>
    </div>

    <div style="display: flex; justify-content: space-between; margin-top: 30px;">
        <a href="/" style="text-decoration: none; color: #34495e; font-weight: bold; padding-top: 10px;">+ Continue Shopping</a>
        <a href="/clear_cart" style="background: #95a5a6; color: white; padding: 12px 20px; border-radius: 8px; text-decoration: none;">Clear Cart</a>
        </button>
    </div>
</div>

<script>
function sendOrder() {
    let msg = "Hello, I would like to order the following items:\n";
    {% for item in items %}
    msg += "- {{ item.name }} ({{ item.price }} DH)\n";
    {% endfor %}
    msg += "\n*Total: {{ total }} DH*";
    // Replace 212XXXXXXXXX with your real WhatsApp number
    window.open(`https://wa.me/212773517986?text=${encodeURIComponent(msg)}`, '_blank');
}
</script>

{% endblock %}